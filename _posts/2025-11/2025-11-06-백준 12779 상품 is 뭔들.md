---
title: "[백준] 12779번 - 상품 is 뭔들 [Java]"
date: 2025-11-06
categories: [PS, BaekJoon]
tags: [수학, 정수론, 유클리드 호제법, 이분 탐색, 매개 변수 탐색]
toc: true
math: true
---

[문제 링크](https://www.acmicpc.net/problem/12779)

![](/assets/posts/2025-11/백준%2012779%20상품%20is%20뭔들/photo1.png)
![](/assets/posts/2025-11/백준%2012779%20상품%20is%20뭔들/photo2.png)

---

## 문제 풀이

주어진 `a`, `b`에 대해 `a` 초과 `b` 이하인 구간에서 약수의 개수가 홀수인 수의 개수를 구하고 이를 구간의 크기로 나눈 후 기약 분수로 출력해야 하는 문제다. 약수의 개수는 짝을 이뤄서 나오게 되는데 완전제곱수의 경우는 자기 자신과 짝이 되는 약수가 존재해서 약수의 개수가 홀수가 됨을 활용해야 하며 기약 분수로 나타내기 위해서는 분자와 분모의 최대 공약수로 나눠야 하는데 이를 위해 유클리드 호제법을 활용했다.

주어진 구간에서 완전제곱수의 개수를 찾는 방법은 그냥 for문을 활용한 선형 탐색과 이분 탐색, 매개 변수 탐색을 활용한 두 가지 방식을 적용했다. 선형 탐색의 경우 변수 `i`에 대해 `a < i * i <= b`를 만족하는 `i`의 개수를 찾아야 하는데 이를 위해 시작을 루트 `a`부터하고 종료 조건을 `i * i <= b`로 설정해서 탐색 횟수를 줄였다. 이분 탐색의 경우 `n * n`이 `a` 초과 `b` 이하인 `n`의 범위를 구했는데, Upper Bound로 `n * n > b`인 `n`을 구하고 `-1`을 하면 `n * n <= b`인 `n`을 구할 수 있다. 또한 `n * n > a`인 `n`을 다시 구해서 `-1`을 하면 `n * n <= a`인 `n`을 구할 수 있는데 둘을 빼주면 `a < n * n <= b`인 구간의 길이를 얻을 수 있어서 분모를 구할 수 있다.

---

## 코드

### 1. 선형 탐색 [Java]

```java
import java.io.*;
import java.util.*;

public class Main {
    public static void main(String[] args) throws IOException {
        BufferedReader br = new BufferedReader(new InputStreamReader(System.in));
        StringTokenizer st = new StringTokenizer(br.readLine());

        long a = Long.parseLong(st.nextToken());
        long b = Long.parseLong(st.nextToken());

        long cnt = getSquareNum(a, b);

        if (cnt == 0) {
            System.out.println(0);
        } else {
            long gcd = gcd(cnt, b - a);
            System.out.printf("%d/%d", cnt / gcd, (b - a) / gcd);
        }
    }

    public static long getSquareNum(long a, long b) {
        int cnt = 0;

        for (long i = (long) Math.sqrt(a); i * i <= b; i++) {
            if (i * i > a) cnt++;
        }

        return cnt;
    }

    private static long gcd(long a, long b) {
        if (b == 0) return a;
        return gcd(b, a % b);
    }
}
```

### 2. 이분 탐색 + 매개 변수 탐색 [Java]

```java
import java.io.*;
import java.util.*;

public class Main {
    public static void main(String[] args) throws IOException {
        BufferedReader br = new BufferedReader(new InputStreamReader(System.in));
        StringTokenizer st = new StringTokenizer(br.readLine());

        long a = Long.parseLong(st.nextToken());
        long b = Long.parseLong(st.nextToken());

        long cnt = upperBound(b) - upperBound(a);

        if (cnt == 0) {
            System.out.println(0);
        } else {
            long gcd = gcd(cnt, b - a);
            System.out.printf("%d/%d", cnt / gcd, (b - a) / gcd);
        }
    }

    private static long upperBound(long key) {
        long left = 0;
        long right = Integer.MAX_VALUE;

        while (left < right) {
            long mid = (left + right) / 2;

            if (mid * mid <= key) {
                left = mid + 1;
            } else {
                right = mid;
            }
        }

        return right;
    }

    private static long gcd(long a, long b) {
        if (b == 0) return a;
        return gcd(b, a % b);
    }
}
```

---

## 풀이 정보

### 1. 선형 탐색 [Java]

- 15 min

![](/assets/posts/2025-11/백준%2012779%20상품%20is%20뭔들/photo3.png)

### 2. 이분 탐색 + 매개 변수 탐색 [Java]

- 6 min

![](/assets/posts/2025-11/백준%2012779%20상품%20is%20뭔들/photo4.png)

---
