---
title: "[백준] 12891번 - DNA 비밀번호 [Java]"
date: 2025-10-30
categories: [알고리즘, 백준]
tags: [문자열, 슬라이딩 윈도우]
toc: true
math: true
---

[문제 링크](https://www.acmicpc.net/problem/12891)

![](/assets/posts/2025-10/백준%2012891%20DNA%20비밀번호/photo1.png)
![](/assets/posts/2025-10/백준%2012891%20DNA%20비밀번호/photo2.png)

---

## 문제 풀이

주어진 문자열에 대해 고정된 길이의 임의의 구간이 비밀번호의 조건을 만족하는 경우의 수를 구하는 문제다. 조건은 구간이 각 문자를 특정 개수 이상 포함해야한다. 문자열과 구간의 최대 길이가 `1,000,000`이라는 점에서 $$O(N^2)$$ 풀이는 시간 초과가 발생하는데 슬라이딩 윈도우를 활용하면 해결할 수 있다.

슬라이딩 윈도우는 `P`만큼의 초기 윈도우를 설정 후 한 칸씩 이동하며 포함된 문자를 더하고 빼는 과정과 수를 세는 과정을 반복하면 된다. 특정 문자를 포함하는 조건은 카운팅 배열을 활용해서 찾되 문자가 인덱스에 바로 매핑이 안되기 때문에 `Map`을 활용해서 미리 매핑을 지어줬다.

예제 입력 1을 예로 들자면, 주어진 문자열 `S`를 배열로 표현하면 아래와 같이 된다.

<div>
	<table style="border-collapse:collapse; width:100%; text-align:center; table-layout:fixed;">
		<tr>
			<td style="border:1px solid black;">인덱스</td>
			<td style="border:1px solid black;">0</td>
			<td style="border:1px solid black;">1</td>
			<td style="border:1px solid black;">2</td>
			<td style="border:1px solid black;">3</td>
			<td style="border:1px solid black;">4</td>
			<td style="border:1px solid black;">5</td>
			<td style="border:1px solid black;">6</td>
			<td style="border:1px solid black;">7</td>
			<td style="border:1px solid black;">8</td>
		</tr>
		<tr>
			<td style="border:1px solid black;">값</td>
			<td style="border:1px solid black;">C</td>
			<td style="border:1px solid black;">C</td>
			<td style="border:1px solid black;">T</td>
			<td style="border:1px solid black;">G</td>
			<td style="border:1px solid black;">G</td>
			<td style="border:1px solid black;">A</td>
			<td style="border:1px solid black;">T</td>
			<td style="border:1px solid black;">T</td>
			<td style="border:1px solid black;">G</td>
		</tr>
	</table>
</div>

비밀번호의 길이가 `8`이므로 초기 윈도우에 포함된 구간은 아래와 같다. 해당 구간은 `A` 1개, `C` 2개, `G` 2개, `T` 3개를 포함하므로 `A`가 한 개 모자란다.

<div>
	<table style="border-collapse:collapse; width:100%; text-align:center; table-layout:fixed;">
		<tr>
			<td style="border:1px solid black;">인덱스</td>
			<td style="border:1px solid black;">0</td>
			<td style="border:1px solid black;">1</td>
			<td style="border:1px solid black;">2</td>
			<td style="border:1px solid black;">3</td>
			<td style="border:1px solid black;">4</td>
			<td style="border:1px solid black;">5</td>
			<td style="border:1px solid black;">6</td>
			<td style="border:1px solid black;">7</td>
			<td style="border:1px solid black;">8</td>
		</tr>
		<tr>
			<td style="border:1px solid black;">값</td>
			<td style="border:1px solid black; background-color:#60a5fa;">C</td>
			<td style="border:1px solid black; background-color:#60a5fa;">C</td>
			<td style="border:1px solid black; background-color:#60a5fa;">T</td>
			<td style="border:1px solid black; background-color:#60a5fa;">G</td>
			<td style="border:1px solid black; background-color:#60a5fa;">G</td>
			<td style="border:1px solid black; background-color:#60a5fa;">A</td>
			<td style="border:1px solid black; background-color:#60a5fa;">T</td>
			<td style="border:1px solid black; background-color:#60a5fa;">T</td>
			<td style="border:1px solid black;">G</td>
		</tr>
	</table>
</div>

윈도우를 한 칸 이동하면 아래 구간을 포함하게 되며 이번엔 `A`가 두 개 모자라게 된다. 따라서 만들 수 있는 비밀번호가 없다.

<div>
	<table style="border-collapse:collapse; width:100%; text-align:center; table-layout:fixed;">
		<tr>
			<td style="border:1px solid black;">인덱스</td>
			<td style="border:1px solid black;">0</td>
			<td style="border:1px solid black;">1</td>
			<td style="border:1px solid black;">2</td>
			<td style="border:1px solid black;">3</td>
			<td style="border:1px solid black;">4</td>
			<td style="border:1px solid black;">5</td>
			<td style="border:1px solid black;">6</td>
			<td style="border:1px solid black;">7</td>
			<td style="border:1px solid black;">8</td>
		</tr>
		<tr>
			<td style="border:1px solid black;">값</td>
			<td style="border:1px solid black;">C</td>
			<td style="border:1px solid black; background-color:#60a5fa;">C</td>
			<td style="border:1px solid black; background-color:#60a5fa;">T</td>
			<td style="border:1px solid black; background-color:#60a5fa;">G</td>
			<td style="border:1px solid black; background-color:#60a5fa;">G</td>
			<td style="border:1px solid black; background-color:#60a5fa;">A</td>
			<td style="border:1px solid black; background-color:#60a5fa;">T</td>
			<td style="border:1px solid black; background-color:#60a5fa;">T</td>
			<td style="border:1px solid black; background-color:#60a5fa;">G</td>
		</tr>
	</table>
</div>

---

## 코드

```java
import java.io.*;
import java.util.*;

public class Main {

    // 알파벳과 인덱스 매핑
    private static final Map<Character, Integer> map = Map.of('A', 0, 'C', 1, 'G', 2, 'T', 3);

    public static void main(String[] args) throws IOException {
        BufferedReader br = new BufferedReader(new InputStreamReader(System.in));
        StringTokenizer st = new StringTokenizer(br.readLine());

        int S = Integer.parseInt(st.nextToken());
        int P = Integer.parseInt(st.nextToken());

        char[] str = br.readLine().toCharArray();

        int[] cntArr = new int[4];
        st = new StringTokenizer(br.readLine());
        for (int i = 0; i < 4; i++) {
            cntArr[i] = Integer.parseInt(st.nextToken());
        }

        // 만들 수 있는 비밀번호의 종류의 수
        int cnt = 0;

        // 초기 윈도우에 대해 카운팅 배열 갱신
        for (int i = 0; i < P; i++) {
            cntArr[map.get(str[i])]--;
        }

        // 초기 윈도우로 만들 수 있는 비밀번호면 카운팅
        if (isPossible(cntArr)) {
            cnt++;
        }

        for (int i = 0; i < S - P; i++) {
            // 윈도우 이동
            cntArr[map.get(str[i])]++;
            cntArr[map.get(str[i + P])]--;

            // 이동 후 만들 수 있는 비밀번호면 카운팅
            if (isPossible(cntArr)) {
                cnt++;
            }
        }

        System.out.println(cnt);
    }

    private static boolean isPossible(int[] arr) {
        for (int num : arr) {
            if (num > 0) return false;
        }
        return true;
    }
}
```

---

## 풀이 정보

- 18 min

![](/assets/posts/2025-10/백준%2012891%20DNA%20비밀번호/photo3.png)

---

## 리뷰

전형적인 슬라이딩 윈도우 문제이면서 문자열스러운 부분이 포함된 문제였던 것 같다.

---
